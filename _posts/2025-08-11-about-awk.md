---
title: awk for beginners
date: 2025-08-11
categories: [dev, gnu]
tags: [awk]
---


### Awk for Beginners: A Quick Tutorial

You've been introduced to a powerful command-line tool, awk, that can save you a ton of time when processing text files.
Let's break down what awk is and how you can use it for practical tasks.

### What is awk?

awk is a programming language specifically designed for scanning patterns and processing text data.
It's a fundamental utility on Unix-like operating systems that works with structured text files, like logs or data reports.

Its basic syntax is simple:

```shell
awk 'pattern { action }' filename
```

awk reads a file line by line. For each line, it checks if the pattern is a match. If it is, it performs the specified action.

By default, awk treats whitespace as a field separator.
This means it breaks each line into individual "fields" or columns.
You can access these fields using variables like `$1` (the first field), `$2` (the second field), and so on. The entire line is `$0`.


**Examples**

1. Simple Printing

You can use awk to print specific fields from a file.

```shell
awk '{ print $1, $3 }' employees.txt
```

Explanation:
This command reads `employees.txt` and for every line, it prints the first and third fields, separated by a space.

2. Conditional Logic with if

awk really shines when you add conditional logic. You can use an if statement to perform actions only when a certain condition is met.

```shell
awk '{ if ($2 > 50000) { print $1, "is a high earner" } }' salaries.txt
```

Explanation:
This command checks if the second field (`$2`, representing salary) is greater than 50000. If it is, it prints the first field (`$1`, the employee name) along with a message.

3. Substitution with sub()

One of the most powerful functions in awk is `sub()`, which lets you substitute text within a line.

Example Task: You have a file with tags like ![](Picture.jpg) and you want to replace them with sequentially numbered image names(![](image1.png), ![](image2.png), ...).

```shell
awk 'BEGIN {i=0} {if($0 ~ /Picture.*\.jpg/){sub(/Picture.*\.jpg/,"image"(i+=2)".png");} print}' input.txt > output.txt
```

Explanation:
- `BEGIN {i=0}`: awk initializes a variable `i` to zero.
- `awk '...' input.txt`: Processes `input.txt`.
- `if($0 ~ /Picture.*\.jpg/)`: Checks if the current line ($0) matches the regular expression that matches the regex `Picture.*\.jpg`.
- `sub(/Picture.*\.jpg/,"image"(i+=2)".png")`: If a match is found, this function substitutes the matched pattern with a new string.
- `(i+=2)` is a pre-increment operator. It increments the variable `i` and then uses its new value in the string.
This is what makes the numbers increment for each substitution: image1.png, image2.png, and so on.
- `print`: This command is executed for every line. It prints the line, whether it was modified or not.

---

### Why Use awk?

awk is useful for tasks like:
- Report generation: Quickly summarizing data from log files.
- Data extraction: Pulling specific pieces of information from large datasets.
- Text manipulation: Reformatting files, changing delimiters, or replacing text based on complex rules.
- It's a versatile tool that bridges the gap between simple commands like grep and full-fledged scripting languages, offering a fast and efficient way to handle a wide range of text-processing challenges.
